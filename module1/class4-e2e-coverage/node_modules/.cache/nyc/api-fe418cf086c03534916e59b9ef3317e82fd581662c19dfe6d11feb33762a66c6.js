function cov_2kej4623jr(){var path="/Users/thiagosaraiva/www/mastering/mastering-node/js-expert/module1/class4-e2e-coverage/src/api.js";var hash="5f490ff8f585c51941883a167665249889e93093";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/thiagosaraiva/www/mastering/mastering-node/js-expert/module1/class4-e2e-coverage/src/api.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:28}},"1":{start:{line:3,column:21},end:{line:6,column:1}},"2":{start:{line:7,column:17},end:{line:7,column:34}},"3":{start:{line:8,column:15},end:{line:30,column:1}},"4":{start:{line:10,column:4},end:{line:10,column:37}},"5":{start:{line:11,column:4},end:{line:11,column:25}},"6":{start:{line:14,column:17},end:{line:14,column:56}},"7":{start:{line:15,column:4},end:{line:22,column:5}},"8":{start:{line:19,column:6},end:{line:19,column:29}},"9":{start:{line:20,column:6},end:{line:20,column:37}},"10":{start:{line:21,column:6},end:{line:21,column:12}},"11":{start:{line:24,column:4},end:{line:24,column:44}},"12":{start:{line:27,column:4},end:{line:27,column:27}},"13":{start:{line:28,column:4},end:{line:28,column:36}},"14":{start:{line:32,column:16},end:{line:37,column:1}},"15":{start:{line:33,column:26},end:{line:33,column:33}},"16":{start:{line:34,column:19},end:{line:34,column:65}},"17":{start:{line:35,column:22},end:{line:35,column:56}},"18":{start:{line:36,column:2},end:{line:36,column:39}},"19":{start:{line:38,column:12},end:{line:38,column:38}},"20":{start:{line:39,column:0},end:{line:39,column:59}},"21":{start:{line:39,column:23},end:{line:39,column:58}},"22":{start:{line:41,column:0},end:{line:41,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:18},end:{line:9,column:19}},loc:{start:{line:9,column:41},end:{line:12,column:3}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:17},end:{line:13,column:18}},loc:{start:{line:13,column:46},end:{line:25,column:3}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:11},end:{line:26,column:12}},loc:{start:{line:26,column:34},end:{line:29,column:3}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:16},end:{line:32,column:17}},loc:{start:{line:32,column:39},end:{line:37,column:1}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:17},end:{line:39,column:18}},loc:{start:{line:39,column:23},end:{line:39,column:58}},line:39}},branchMap:{"0":{loc:{start:{line:15,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:22,column:5}},{start:{line:15,column:4},end:{line:22,column:5}}],line:15},"1":{loc:{start:{line:16,column:6},end:{line:17,column:45}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:45}},{start:{line:17,column:6},end:{line:17,column:45}}],line:16},"2":{loc:{start:{line:35,column:22},end:{line:35,column:56}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:38}},{start:{line:35,column:42},end:{line:35,column:56}}],line:35}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f490ff8f585c51941883a167665249889e93093"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2kej4623jr=function(){return actualCoverage;};}return actualCoverage;}cov_2kej4623jr();const http=(cov_2kej4623jr().s[0]++,require("http"));const DEFAULT_USER=(cov_2kej4623jr().s[1]++,{username:"admin",password:"admin"});const{once}=(cov_2kej4623jr().s[2]++,require("events"));const routes=(cov_2kej4623jr().s[3]++,{"/contact:get":(request,response)=>{cov_2kej4623jr().f[0]++;cov_2kej4623jr().s[4]++;response.write("contact us page");cov_2kej4623jr().s[5]++;return response.end();},"/login:post":async(request,response)=>{cov_2kej4623jr().f[1]++;const user=(cov_2kej4623jr().s[6]++,JSON.parse(await once(request,"data")));cov_2kej4623jr().s[7]++;if((cov_2kej4623jr().b[1][0]++,user.username!==DEFAULT_USER.username)||(cov_2kej4623jr().b[1][1]++,user.password!==DEFAULT_USER.password)){cov_2kej4623jr().b[0][0]++;cov_2kej4623jr().s[8]++;response.writeHead(401);cov_2kej4623jr().s[9]++;response.end("logging failed!");cov_2kej4623jr().s[10]++;return;}else{cov_2kej4623jr().b[0][1]++;}cov_2kej4623jr().s[11]++;return response.end("Log in succeeded!");},default:(request,response)=>{cov_2kej4623jr().f[2]++;cov_2kej4623jr().s[12]++;response.writeHead(404);cov_2kej4623jr().s[13]++;return response.end("not found");}});cov_2kej4623jr().s[14]++;const handler=(request,response)=>{cov_2kej4623jr().f[3]++;const{url,method}=(cov_2kej4623jr().s[15]++,request);const routeKey=(cov_2kej4623jr().s[16]++,`${url.toLowerCase()}:${method.toLowerCase()}`);const chosenRoute=(cov_2kej4623jr().s[17]++,(cov_2kej4623jr().b[2][0]++,routes[routeKey])||(cov_2kej4623jr().b[2][1]++,routes.default));cov_2kej4623jr().s[18]++;return chosenRoute(request,response);};const app=(cov_2kej4623jr().s[19]++,http.createServer(handler));cov_2kej4623jr().s[20]++;app.listen(3000,()=>{cov_2kej4623jr().f[4]++;cov_2kej4623jr().s[21]++;return console.log("app running at",3000);});cov_2kej4623jr().s[22]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmtlajQ2MjNqciIsImFjdHVhbENvdmVyYWdlIiwiaHR0cCIsInMiLCJyZXF1aXJlIiwiREVGQVVMVF9VU0VSIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9uY2UiLCJyb3V0ZXMiLCIvY29udGFjdDpnZXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmIiwid3JpdGUiLCJlbmQiLCIvbG9naW46cG9zdCIsInVzZXIiLCJKU09OIiwicGFyc2UiLCJiIiwid3JpdGVIZWFkIiwiZGVmYXVsdCIsImhhbmRsZXIiLCJ1cmwiLCJtZXRob2QiLCJyb3V0ZUtleSIsInRvTG93ZXJDYXNlIiwiY2hvc2VuUm91dGUiLCJhcHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwID0gcmVxdWlyZShcImh0dHBcIilcblxuY29uc3QgREVGQVVMVF9VU0VSID0ge1xuICB1c2VybmFtZTogXCJhZG1pblwiLFxuICBwYXNzd29yZDogXCJhZG1pblwiLFxufVxuY29uc3QgeyBvbmNlIH0gPSByZXF1aXJlKFwiZXZlbnRzXCIpXG5jb25zdCByb3V0ZXMgPSB7XG4gIFwiL2NvbnRhY3Q6Z2V0XCI6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgIHJlc3BvbnNlLndyaXRlKFwiY29udGFjdCB1cyBwYWdlXCIpXG4gICAgcmV0dXJuIHJlc3BvbnNlLmVuZCgpXG4gIH0sXG4gIFwiL2xvZ2luOnBvc3RcIjogYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UoYXdhaXQgb25jZShyZXF1ZXN0LCBcImRhdGFcIikpXG4gICAgaWYgKFxuICAgICAgdXNlci51c2VybmFtZSAhPT0gREVGQVVMVF9VU0VSLnVzZXJuYW1lIHx8XG4gICAgICB1c2VyLnBhc3N3b3JkICE9PSBERUZBVUxUX1VTRVIucGFzc3dvcmRcbiAgICApIHtcbiAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCg0MDEpXG4gICAgICByZXNwb25zZS5lbmQoXCJsb2dnaW5nIGZhaWxlZCFcIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5lbmQoXCJMb2cgaW4gc3VjY2VlZGVkIVwiKVxuICB9LFxuICBkZWZhdWx0OiAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICByZXNwb25zZS53cml0ZUhlYWQoNDA0KVxuICAgIHJldHVybiByZXNwb25zZS5lbmQoXCJub3QgZm91bmRcIilcbiAgfSxcbn1cblxuY29uc3QgaGFuZGxlciA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCB7IHVybCwgbWV0aG9kIH0gPSByZXF1ZXN0XG4gIGNvbnN0IHJvdXRlS2V5ID0gYCR7dXJsLnRvTG93ZXJDYXNlKCl9OiR7bWV0aG9kLnRvTG93ZXJDYXNlKCl9YFxuICBjb25zdCBjaG9zZW5Sb3V0ZSA9IHJvdXRlc1tyb3V0ZUtleV0gfHwgcm91dGVzLmRlZmF1bHRcbiAgcmV0dXJuIGNob3NlblJvdXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxufVxuY29uc3QgYXBwID0gaHR0cC5jcmVhdGVTZXJ2ZXIoaGFuZGxlcilcbmFwcC5saXN0ZW4oMzAwMCwgKCkgPT4gY29uc29sZS5sb2coXCJhcHAgcnVubmluZyBhdFwiLCAzMDAwKSlcblxubW9kdWxlLmV4cG9ydHMgPSBhcHBcbiJdLCJtYXBwaW5ncyI6Imc3R0FlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLElBQUksRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFFNUIsS0FBTSxDQUFBQyxZQUFZLEVBQUFMLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLENBQ25CRyxRQUFRLENBQUUsT0FBTyxDQUNqQkMsUUFBUSxDQUFF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